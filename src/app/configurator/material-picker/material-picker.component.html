
  <div>
    <app-number-input 
      (inputChanged)="totalPiecesChanged()" 
      [input]="n_pieces"> 
    </app-number-input>
    <app-string-input [input]="client_name"> </app-string-input>
    <app-disabled-input [input]="budget_date"> </app-disabled-input>
  </div>

<div fxLayout="row wrap" fxLayout.xs="column wrap">
  <div flex="" *ngFor="let material of materials">
    <mat-card class="material_card">
      <img mat-card-image 
        [src]="material.img_download_url" 
        [alt]="material.name">
      <mat-card-content>
        <div>
          <span id="tooltip"> {{material.name}} </span>
          <!-- Needed because I'm not using a group -->
          <mat-radio-button 
            [checked]="material.uid === selectedMaterialId"
            (change)="udapteSelectedMaterial($event.value)"
            [value]="material.uid">
          </mat-radio-button>
          <div *ngIf="selectedMaterialId === material.uid">
            <div>
              <mat-form-field>
                <mat-label>Prezzo piatto</mat-label>
                <!-- <input matInput #postalCode maxlength="5" placeholder="Ex. 94105" value="1"> -->
                <input 
                  matInput 
                  (change)="setChanged()" 
                  [(ngModel)]="material.price_p" value="1">
                <!-- <mat-hint align="end">{{postalCode.value.length}} / 5</mat-hint> -->
              </mat-form-field>
            </div>
            <div>
              <mat-form-field>
                <mat-label>Prezzo tondo</mat-label>
                <!-- <input matInput #postalCode maxlength="5" placeholder="Ex. 94105" value="1"> -->
                <input matInput (change)="setChanged()" [(ngModel)]="material.price_t" value="1">
                <!-- <mat-hint align="end">{{postalCode.value.length}} / 5</mat-hint> -->   
              </mat-form-field>  
            </div>
            <app-disabled-input [input]="material.spec_weight_text"> </app-disabled-input>
          </div>
        </div>
        </mat-card-content> 
    </mat-card>
  </div>
  <!-- Non ho idea di come far visualizzare correttamente l'icona DENTRO al bottone -->
  <button mat-icon-button *ngIf="changed" (click)="saveMaterial()">
    <mat-label>Salva modifiche ai materiali</mat-label>    
    <mat-icon>mode_save</mat-icon>
  </button>
<div>